/**
 * Korean Language Pack â€” ì¹´ì¹´ì˜¤í˜ì´ì§€/ë„¤ì´ë²„ì‹œë¦¬ì¦ˆ ëŒ“ê¸€ ë¬¸í™”
 * 
 * í•œêµ­ì–´ route.tsì˜ ìˆ˜ì§‘ ë°ì´í„°ë¥¼ intl LanguagePack í˜•ì‹ìœ¼ë¡œ í¬íŒ….
 * - ì´ˆì„±ì²´/ë¹„ëª…/ë°ˆ ë¬¸í™” (55%+)
 * - Context-required ì¹˜í™˜ í…œí”Œë¦¿ (70+ê°œ)
 * - ìš•ì„¤/ë¹„ì†ì–´ ìì—°ìŠ¤ëŸ¬ìš´ í¬í•¨
 * - ì¹´ì¹´ì˜¤í˜ì´ì§€/ë„¤ì´ë²„ì‹œë¦¬ì¦ˆ ë‹‰ë„¤ì„ 295ê°œ ì¤‘ ì„ ë³„
 */

import type { LanguagePack, PersonalityTone, CallPromptArgs } from '../types';

// ============================================================
// ì¥ë¥´ë³„ ê°€ì¤‘ì¹˜
// ============================================================
const KO_GENRE_WEIGHTS: Record<string, { tone: PersonalityTone; weight: number }[]> = {
    fantasy: [
        { tone: 'short_reactor', weight: 55 },
        { tone: 'emotional', weight: 20 },
        { tone: 'theorist', weight: 10 },
        { tone: 'cheerleader', weight: 10 },
        { tone: 'critic', weight: 5 },
    ],
    'game-fantasy': [
        { tone: 'short_reactor', weight: 50 },
        { tone: 'theorist', weight: 20 },
        { tone: 'emotional', weight: 15 },
        { tone: 'cheerleader', weight: 10 },
        { tone: 'critic', weight: 5 },
    ],
    romance: [
        { tone: 'emotional', weight: 40 },
        { tone: 'short_reactor', weight: 25 },
        { tone: 'cheerleader', weight: 15 },
        { tone: 'theorist', weight: 12 },
        { tone: 'critic', weight: 8 },
    ],
    murim: [
        { tone: 'short_reactor', weight: 55 },
        { tone: 'emotional', weight: 15 },
        { tone: 'theorist', weight: 15 },
        { tone: 'cheerleader', weight: 10 },
        { tone: 'critic', weight: 5 },
    ],
    regression: [
        { tone: 'short_reactor', weight: 45 },
        { tone: 'theorist', weight: 25 },
        { tone: 'emotional', weight: 15 },
        { tone: 'cheerleader', weight: 10 },
        { tone: 'critic', weight: 5 },
    ],
    default: [
        { tone: 'short_reactor', weight: 55 },
        { tone: 'emotional', weight: 20 },
        { tone: 'theorist', weight: 10 },
        { tone: 'cheerleader', weight: 10 },
        { tone: 'critic', weight: 5 },
    ],
};

// ============================================================
// í•œêµ­ì–´ ì–¸ì–´íŒ© (LanguagePack êµ¬í˜„)
// ============================================================
const koLangPack: LanguagePack = {
    code: 'ko',
    dataMaturity: 'PRODUCTION',

    // === ë°ì´í„° í’€ (ìˆ˜ì§‘ ë‹‰ë„¤ì„) ===
    nicknamePool: [
        // ì¹´ì¹´ì˜¤í˜ì´ì§€ ìˆ˜ì§‘
        'í™”ë‚˜ë©´ì§–ëŠ”ê°œ', 'ì†Œì„¤ì‚¬ëƒ¥ê¾¼', 'December', 'Walsan', 'ê³°_769',
        'Dsxgyuh', 'ë°ë°ì´_514', 'ê¹€ê³ ë°±', 'ì—”ë‚´', 'ë‚˜ê±´ìš°_524',
        // ë„¤ì´ë²„ì‹œë¦¬ì¦ˆ ìˆ˜ì§‘
        'í•˜ìˆ²', 'í•œì„ê½ƒ', 'TunaPas', 'íŒŒìŠ¤íƒ€ë§›ë¡œì œì†ŒìŠ¤', 'ìˆœì• ì˜ì¢…ë¥˜',
        'ì¸ê°„íƒêµ¬ì¤‘', 'ê³µí™”ì¶˜', 'ê°„ë‚˜ë°”ë¡œ', 'í¸ì‹ê¸ˆì§€',
        // 3ì°¨ ìˆ˜ì§‘
        'ë¶€ê²ë¹Œ', 'ì˜¤ëŠ˜ë„ì£½ëŠ”ë³´ìŠ¤', 'ë¶€ë„ëŸ¬ìš´ì·¨í–¥', 'ì§€ë‚˜ê°€ëŠ”ë ˆì½˜',
        'í•´ì—„ì¹˜ëŠ”ìƒˆ', 'í¬ë ˆì„¼ë„ëª°í† ', 'ë¯€ì—ì—ì—‘', 'ë¬´ì§€ê°œë§›ë¹„ë‘˜ê¸°',
        'ì†Œë…€ì˜ë§ˆìŒì€ë³„ë¹›', 'ëª½ì„¤í™”', 'íƒœì–‘ìµœê³ ', 'ë°”ë¼ë¼ë€', 'ë³„ì˜ë³„',
        // 6ì°¨ ìˆ˜ì§‘
        'ë§ë¦¬ì§€ë§ˆ', 'cookie', 'ì•„ì´ê³ ì•„ì´ê³ ', 'ì‰¬ì–´ë¼', 'ì—ê³ ë¨¸ë‹ˆë‚˜',
        'ìœ ìŠ¤í‹°í‹°ì•„', 'ì”ì•„ì˜¹', 'ë´‰ë´‰ê¸°ë¦¿', 'í•˜ë£¨', 'ë¼ë¼ë¼ë¼ë¼',
        'êº¼ì–´ì–µ', 'ë„¤í‹°ì¦Œ', 'ë¦¬ë²„ìŠ¤', 'ë‘ê¸°', 'ì•„ì¼ë ™', 'ë¡œì•Œë§ê³ ',
        // ì”¹ë•ë¬¼ ìˆ˜ì§‘
        'ì ìœ ë¥˜', 'ì¼€ì´ê±´ ë“œë¼ì¹´', 'ì´ê³¼í˜¼', 'ì¥ë¶€ì´', 'ë©ê½ì´',
        'ì¹˜í‚¨ë°œê³¨ì „ë¬¸ê°€', 'ê¸°ì–µì•ˆì˜ë„ˆ', 'ì¸ìƒì—…ì ê°œë…ê¸€', 'ë„ˆêµ¬ë¦¬_892',
        'ì•„ë¹ ì†Œ', 'ì• ë¯¸ì•¼êµ­ì´ì§œë‹¤',
        // ì˜+ìˆ«ì í˜¼í•©
        'lockette3', 'JS', 'OxOb', 'Lcsuisea', 'ted', 'Zzxe', 'whd',
        'yuh', '2yeon1', 'JB123', 'xksnw1', 'Evenoa', 'Ertqazplm',
        'binsah', 'JoeyValence', 'ì‹¬ì‹¬í•¨772', 'ë‰´ìš°ë¹„', 'ì „ìƒìˆ ',
        'ê°€ìœ„ì¹˜ê¸°ì—°êµ¬ì†Œ', 'ê³ êµ¬ë§ˆíŒ¨ìŠ¤', 'ë©”ë°€ì†Œë°€', 'íƒ€ì„ë¡œë“œ',
        'ì˜¤ì˜¤ì§€ê¸ˆê°ë‹ˆë‹¤', 'ë¯¸ì˜¤ì–‘2', 'í˜¼ëˆíŒŒê´´ë§ê°€ì•„ì•…',
        // PIA ìŠ¤íƒ€ì¼
        'PIA1619742997828', 'PIA1754845395185',
        // ì¶”ê°€
        'ëì´ì•„ë‹Œì‹œì‘', '88m', 'í•˜Lin', 'ë¬´ê³µì²œë§ˆ',
        'ì‹ë£Œ1weng', 'ë°•ì˜ê¸°',
    ],

    // === ìˆ˜ì§‘ ëŒ“ê¸€ í…œí”Œë¦¿ ===
    templates: {
        // 55% â€” ì§§ì€ ë¦¬ì•¡ì…˜, ë¹„ëª…, ë°ˆ, ì´ˆì„±ì²´
        short_reactor: [
            'ã„·ã„·', 'ã…‹ã…‹', 'í—', 'ğŸ‘', 'ëš!', '??', 'ã……ã…‚', 'ã„¹ã…‡',
            'ã…‡ã…ˆ', 'ì¸ì •', 'í¬', 'ã…ã…Š', 'ë ˆì „ë“œ', 'ã…‡ã…‡', 'êµ¿',
            '1', '6ë“±',
            'ë¼ì—ì—ì—ì—ì—‘!!!!', '?????????????????',
            'ì™€ ì´ê±´ì¢‹ë„¤ã…‹ã…‹', 'ì˜¤ ì´ê±°ê´œì°®ì€ë°?', 'ì™€ã…‹ã…‹ã…‹', 'í—ã„·ã„·',
            'ì˜¤ ì¢‹ì€ë°', 'ì™€ ì´ê±´ì¢€', 'í— ì§„ì§œ?', 'ì˜¤ ê·¸ë˜?',
            'ì´ê±°ì‹œ í˜„ì‹¤', 'ì°¸ê³  ë³¸ë‹¤',
            'ë°”ë¡œ ëšë°°ê¸° ì‹œì›í•˜ê²Œ ê¹¨ë²„ë¦¬ë„¤ã…‹ã…‹ã…‹ã…‹',
            'ì—­ëŒ€ê¸‰ì´ë„¤ã„·ã„·', 'ì¹´..ì˜¤ëœë§Œì— ë½•ì°¨ë„¤',
            'nice ã…‡ã…ˆ', 'ã…‹ã…‹ã…‹ã…‹', 'êµ¿êµ¿ã…‹ã…‹', 'ã„¹ã…‡ã…‹ã…‹',
            'ì´ê±´ì¢€ ë ˆì „ë“œë„¤ã„·ã„·', 'ì¶œì²µ', 'ê°ì‚¬', 'ì—¬ê¸°ê¹Œì§€ ì½ìŒ',
            'ì¬ë°Œë„¤ã…‹ã…‹ã…‹', 'ì´ê±´ ã„¹ã…‡',
        ],
        // 20% â€” ê°ì • í‘œí˜„
        emotional: [
            'ëˆˆë¬¼ë‚¨ã… ', 'ëˆˆë¬¼ë‚¨ã… ã… ', 'ì§„ì§œì†Œë¦„', 'ì†Œë¦„ã„·ã„·',
            'ì‹¬ì¥ ì•„íŒŒ', 'ë¯¸ì³¤ìŒã…‹ã…‹', 'ì•„ ã…ˆã„´ìŠ¬í”„ë„¤',
            'ì´ ì¥ë©´ ì§„ì§œ...', 'ğŸ’”',
            'ì•„ ê°œì›ƒê¸°ë„¤ã…‹ã…‹ã…‹', 'ì‹¬ì¥ í„°ì§ˆ ê²ƒ ê°™ì•„', 'ìˆ¨ ëª» ì‰¬ê² ì–´',
            'ì•„ ì§„ì§œ í™”ë‚˜', 'ê°œê°ë™ã… ã… ', 'ì„¤ë Œë‹¤', 'ë‘ê·¼ë‘ê·¼',
            'ì•„ ë¯¸ì¹˜ê² ë„¤', 'ì§„ì§œ ë‹µë‹µí•´', 'ì´ê±´ ëª»ì°¸ì§€', 'ê°œì©ë‹¤',
            'ë°‘ê³ ìˆì—ˆë‹¤ê³  ì  ì¥!',
            'ì‘ê°€ë‹˜ì´ ì´ê¸°ì…¨ìŠµë‹ˆë‹¤ / ì €ëŠ” ã…ˆã…ˆì¹˜ê² ìŠµë‹ˆë‹¤',
            'ì™€ ì´ê±´ ì§„ì§œ', 'ì•„ ê°œì›ƒê²¨ã…‹ã…‹ã…‹ã…‹ã…‹', 'ì‹¬ì¥ ë›°ì–´',
            'ì§„ì‹¬ ì†Œë¦„ë‹ìŒ', 'ë¯¸ì³¤ìŒã…‹ã…‹', 'í—‰', 'ì™€...', 'ëŒ€ë°•',
        ],
        // 10% â€” ë¶„ì„/ì´ë¡ /ë–¡ë°¥
        theorist: [
            'ì•„ë§ˆ ê·¸ê±´ ë³µì„ ì¸ë“¯', 'ì—¬ê¸° ë–¡ë°¥ ê¹”ë¦° ê±° ê°™ì€ë°',
            'ë‹¤ìŒí™”ì— ë°˜ì „ ì˜¬ ë“¯', 'ì´ê±° ë‚˜ì¤‘ì— ì¤‘ìš”í•  ë“¯',
            'í˜¹ì‹œ ì´ê±°...?', 'ì„¤ë§ˆ ì € ìºë¦­ì´?', 'ë³µì„  ë¯¸ì³¤ë‹¤',
            'ì—¬ê¸°ì„œ ë³µì„  íšŒìˆ˜í–ˆë„¤', 'ì•ì— ë‚˜ì˜¨ ê±°ë‘ ì—°ê²°ë˜ë„¤',
            'ì´ ì„¤ì • ã„¹ã…‡', 'ì„¤ì • ë§ ë˜ë„¤', 'ì´ê±´ ì–µì§€ ì•„ë‹˜',
            'ì•„ ê·¸ë˜ì„œ ê·¸ë¬êµ¬ë‚˜', 'ì´ì œ ì´í•´ë¨', 'ì˜¤ ë³µì„  ê¹”ì•˜ë„¤',
            'ë‚˜ì¤‘ì— ì´ê±° ì¤‘ìš”í•  ë“¯', 'ì´ë¶€ë¶„ ê¸°ì–µí•´ë‘¬ì•¼ê² ë‹¤',
            'ë³µì„ ì¸ê°€?', 'ë–¡ë°¥ íˆ¬ì²™', 'ë³µì„  íšŒìˆ˜ ê°œì©”ì–´',
            'ì„¤ì • ì¢‹ë„¤', 'ì´ ì„¤ì • ì‹ ì„ í•œë°',
            'ì „ê°œ ì˜ˆì¸¡ë¶ˆê°€', 'ì´ ì „ê°œ ëˆ„ê°€ ì˜ˆìƒí•¨?',
        ],
        // 10% â€” ê²©ë ¤/ì‘ì›
        cheerleader: [
            'ì‘ê°€ë‹˜ í™”ì´íŒ…!', 'ê³„ì† ì˜¬ë ¤ì£¼ì„¸ìš”ã… ã… ', 'ë‹¤ìŒí™” ê¸°ëŒ€ë©ë‹ˆë‹¤',
            'ë§¤ì¼ ì˜¬ë ¤ì£¼ì„¸ìš”ğŸ™', 'ì¡´ë²„ ì‹œì‘',
            'ì‘ê°€ë‹˜ ì‚¬ë‘í•´ìš”', 'ì‘ì›í•©ë‹ˆë‹¤', 'í™”ì´íŒ…',
            'ê³„ì† ì—°ì¬í•´ì£¼ì„¸ìš”', 'ì‘ê°€ë‹˜ ìµœê³ ', 'ê°ì‚¬í•©ë‹ˆë‹¤',
            'ë§¤ì¼ ê¸°ë‹¤ë¦´ê²Œìš”', 'ë‹¤ìŒí™” ì¡´ë²„', 'ë¹¨ë¦¬ ì£¼ì„¸ìš”ã… ',
            'ì•„ ë‹¤ìŒí™” ì–¸ì œ ë‚˜ì™€ìš”??', 'ì—…ëƒ ê¸°ë‹¤ë¦½ë‹ˆë‹¤',
            'ì‘ê°€ë‹˜ ê±´ê°• ì±™ê¸°ì„¸ìš”', 'ë¬´ë¦¬í•˜ì§€ ë§ˆì„¸ìš”',
            'ì •ì£¼í–‰ ì‹œì‘', 'ì •ì£¼í–‰ ì¤‘', 'ì¬ë°Œê²Œ ì½ì—ˆì–´ìš”', 'êµ¿êµ¿',
            'ì´ê±° ë¯¿ê³  ì •ì£¼í–‰ í•˜ê³  ìˆëŠ”ë° ì •ë§ ì¬ë°Œë„¤ìš”',
            'ìš°ì„  ê¸€ë¹¨ ì¢‹ì•„ì„œ ê°ì •ì„  ì”¹ìƒíƒ€ì¹˜ë¼ ê³„ì† ë³´ëŠ”ë°',
            'ì •ë§ 1ë¶€ ì´ˆë°˜ ê°œê¿€ì¼ì´ì•¼ ì§„ì§œã…œã…œ',
            '1ë¶€ëŠ” ì§„ì§œ ë ˆì „ì„¤ì´ì—ˆìŒ',
            'ì‚¬ë‘í•´ìš” ì‘ê°€ë‹˜',
            'ì•ˆ ì˜¤ì‹­ë‹ˆê¹Œ? ì‘ê°€ë‹˜~ ì–¼ë¥¸ ì˜¤ì„¸ìš”',
        ],
        // 5% â€” ë¹„íŒ/ë¶ˆë§Œ
        critic: [
            'ê¸°ì–´ì´ í•œë‹¬ì„ í†µìœ¼ë¡œ ì‰¬ë„¤', '2ì›”ì´ë‹¤ ëŒ€ì²´ ì–¸ì œ?',
            'ì—°ì¬ ì•ˆí•˜ë‹ˆê¹Œ ë³´ì§€ë§ˆì…ˆ', 'ê¸€ì•ˆì“°ë‚˜...',
            'ë¹„ì†ì–´ê°€ ì½ê¸°í˜ë“¤ì •ë„ë¡œ ë§ë„¤',
            'ìŒìš•ì´ ë„ˆë¬´ ë‚˜ì˜¤ëŠ” ëŠë‚Œì¸ë°ã…‹ã…‹ ë­”ê°€ ë‚´ê°€ ìš•ë¨¹ëŠ”ëŠë‚Œì´ë¼...',
            'ì–¸ì œì™€', 'íŠ€ì–´ë‚˜ì˜¤ë¼ê³ ',
            'ì•¤ ìŒìš•ì´ ë„ˆë¬´ ë‚˜ì˜¤ëŠ” ëŠë‚Œ', 'ê·¼ë° ìŒìš•ì´ ì¢€...',
            'ì•„ë‹ˆ ì´ë³´ì‡¼ ì‘ê°€ì–‘ë°˜',
        ],
    },

    genreTemplates: {},

    // === 30 í˜ë¥´ì†Œë‚˜ (í•œêµ­ ì›¹ì†Œì„¤ ì»¤ë®¤ë‹ˆí‹°) ===
    personas: [
        // === Immersed (ì¹¨ì°© ëª°ì…ëŸ¬) ===
        {
            id: 'A1', name: 'ê°ì •ì´ì…ëŸ¬', baseType: 'immersed', callGroup: 'immersed',
            tone: '"ì†Œë¦„ã„·ã„·", "ëˆˆë¬¼ë‚¨ã… " ì‹ì˜ ì§§ì€ ê°ì • ë°˜ì‘',
            style: 'ìºë¦­í„° ê°ì •ì— ëª°ì…, íŠ¹ì • ì¥ë©´ì— ë°˜ì‘',
            endings: ['ã… ã… ', 'ì†Œë¦„', 'ë¯¸ì³¤ë‹¤'],
            cognitiveFocus: 'ìºë¦­í„° í‘œì •, ëŒ€ì‚¬, í–‰ë™'
        },
        {
            id: 'A2', name: 'ë¶„ìœ„ê¸°ì¶©', baseType: 'immersed', callGroup: 'immersed',
            tone: '"ì´ ë¶„ìœ„ê¸° ë¯¸ì³¤ë‹¤", "ë°°ê²½ë¬˜ì‚¬ ã„¹ã…‡" ì‹',
            style: 'ë°°ê²½ê³¼ ë¶„ìœ„ê¸°ì— ëª°ì…, ê¸€ë°œ ê°ìƒ',
            endings: ['ã„¹ã…‡', 'ë¯¸ì³¤ë‹¤', 'ì´ê±°ì§€'],
            cognitiveFocus: 'í™˜ê²½, ë¶„ìœ„ê¸°, ë¬¸ì²´'
        },
        {
            id: 'A3', name: 'ì»¤í”ŒëŸ¬', baseType: 'immersed', callGroup: 'immersed',
            tone: '"ì´ ë‘˜ ì œë°œ", "{name1} {name2} ì‚¬ê·€ì–´ë¼" ì‹',
            style: 'ê´€ê³„ ì „ê°œì— ì§‘ì¤‘',
            endings: ['ì œë°œ', 'ì‚¬ê·€ì–´ë¼', 'ë¹¨ë¦¬'],
            cognitiveFocus: 'ìºë¦­í„° ê´€ê³„, ë¡œë§¨ìŠ¤'
        },
        {
            id: 'A4', name: 'ì•¡ì…˜ëª°ì…ëŸ¬', baseType: 'immersed', callGroup: 'immersed',
            tone: '"ì „íˆ¬ì”¬ ê°œì©”ì–´", "ëšë°°ê¸° ê¹¨ë²„ë¦¬ë„¤" ì‹',
            style: 'ì „íˆ¬/ì•¡ì…˜ ì¥ë©´ì— ì§‘ì¤‘',
            endings: ['ã„·ã„·', 'ê°œì©”ì–´', 'ë¯¸ì³¤ìŒ'],
            cognitiveFocus: 'ì „íˆ¬, ì•¡ì…˜, íŒŒì›Œ'
        },
        {
            id: 'A5', name: 'ì •ì£¼í–‰ëŸ¬', baseType: 'immersed', callGroup: 'immersed',
            tone: '"ì •ì£¼í–‰ ì¤‘ì¸ë° ì—¬ê¸°ì„œ ë©ˆì¶œ ìˆ˜ ì—†ë‹¤" ì‹',
            style: 'ì •ì£¼í–‰ ê°ìƒ, ìŠ¤í† ë¦¬ íë¦„ ì–¸ê¸‰',
            endings: ['ê°€ì¦ˆì•„', 'ë©ˆì¶œ ìˆ˜ ì—†ë‹¤', 'ë‹¤ìŒí™”'],
            cognitiveFocus: 'ìŠ¤í† ë¦¬ ì „ê°œ'
        },

        // === Overreactor (ê³¼ëª°ì…ëŸ¬) ===
        {
            id: 'B1', name: 'ë¹„ëª…ëŸ¬', baseType: 'overreactor', callGroup: 'overreactor',
            tone: '"ë¼ì—ì—ì—ì—ì—‘!!", "ã…ã…Šã…ã…Šã…ã…Š" ì‹ ë¹„ëª…',
            style: 'ê·¹ë‹¨ì  ê°ì • í‘œí˜„, ëŠë‚Œí‘œ/ë¬¼ìŒí‘œ ê³¼ë‹¤',
            endings: ['!!!!', '?????', 'ã…ã…Š'],
            cognitiveFocus: 'ì¶©ê²©, ë†€ëŒ, í¥ë¶„'
        },
        {
            id: 'B2', name: 'ë°ˆëŸ¬', baseType: 'overreactor', callGroup: 'overreactor',
            tone: '"ëšë°°ê¸° ì‹œì›í•˜ê²Œ ê¹¨ë²„ë¦¬ë„¤ã…‹ã…‹", "ì¹´...ë½•ì°¨ë„¤" ì‹',
            style: 'ë°ˆ/ìœ í–‰ì–´ë¡œ ë°˜ì‘',
            endings: ['ã…‹ã…‹ã…‹ã…‹', 'ë½•ì°¨ë„¤', 'ê°œê¿€ì¼'],
            cognitiveFocus: 'ìœ ë¨¸, ë°ˆ'
        },
        {
            id: 'B3', name: 'ì´ˆì„±ì²´ëŸ¬', baseType: 'overreactor', callGroup: 'overreactor',
            tone: '"ã……ã…‚ ã„¹ã…‡ ã…ã…Š" ì´ˆì„±ì²´ ìœ„ì£¼',
            style: 'ê·¹ë„ë¡œ ì§§ì€ ë°˜ì‘, ì´ˆì„± ì¤‘ì‹¬',
            endings: ['ã…‹ã…‹', 'ã……ã…‚', 'ã„¹ã…‡'],
            cognitiveFocus: 'ì¦‰ê°ì  ê°ì • ë°©ì¶œ'
        },
        {
            id: 'B4', name: 'ë½•ë§ì€ëŸ¬', baseType: 'overreactor', callGroup: 'overreactor',
            tone: '"ì´ê±´ì¢€ ë ˆì „ë“œë„¤ã„·ã„·", "ì—­ëŒ€ê¸‰" ì‹ ê·¹ì°¬',
            style: 'ì‘í’ˆì— ì·¨í•´ì„œ ê³¼ë„í•œ ì¹­ì°¬',
            endings: ['ë ˆì „ë“œ', 'ì—­ëŒ€ê¸‰', 'ã„·ã„·'],
            cognitiveFocus: 'ê·¹ì°¬, ê°íƒ„'
        },
        {
            id: 'B5', name: 'ë¶„ë…¸ëŸ¬', baseType: 'overreactor', callGroup: 'overreactor',
            tone: '"ì•„ ã…ˆã„´í™”ë‚˜" "ë‹µë‹µí•´ ë¯¸ì¹˜ê² ë„¤" ì‹',
            style: 'ìŠ¤í† ë¦¬ì— ì–µìš¸í•¨/ë¶„ë…¸ í‘œì¶œ',
            endings: ['ë¯¸ì¹˜ê² ë„¤', 'í™”ë‚˜', 'ã…ˆã„´'],
            cognitiveFocus: 'ë¶„ë…¸, ì–µìš¸í•¨'
        },

        // === Chaos (í˜¼ë€/íŠ¸ë¡¤) ===
        {
            id: 'C1', name: 'ì–´ê·¸ë¡œ', baseType: 'troll', callGroup: 'chaos',
            tone: '"ì´ê±° í‘œì ˆ ì•„ë‹˜?" "ë…¸ì¼ì¸ë°" ì‹ ì‹œë¹„',
            style: 'ë…¼ë€ ìœ ë°œ, ë°˜ëŒ€ ì˜ê²¬ ê°•í•˜ê²Œ',
            endings: ['ã…‹ã…‹', 'ì•„ë‹˜?', 'ì§€ìŒ‰'],
            cognitiveFocus: 'ë…¼ë€, ëŒ€ë¦½'
        },
        {
            id: 'C2', name: 'ì˜¤ë…ëŸ¬', baseType: 'misreader', callGroup: 'chaos',
            tone: 'ë‚´ìš©ì„ ì˜ëª» ì´í•´í•˜ê³  ëŒ“ê¸€ ì‘ì„±',
            style: 'ìŠ¤í‚µí•´ì„œ ì˜ëª» í•´ì„',
            endings: ['ì•„ë‹Œê°€?', 'ì¸ë“¯', 'ë§ì§€?'],
            cognitiveFocus: 'ì˜¤ë…, í˜¼ë™'
        },
        {
            id: 'C3', name: 'ìŠ¤í¬ëŸ¬', baseType: 'troll', callGroup: 'chaos',
            tone: '"ì´ê±° ë‚˜ì¤‘ì— ë°˜ì „ì¸ë°" ì‹ ê°€ë²¼ìš´ ìŠ¤í¬',
            style: 'ì •ì£¼í–‰ ì•ì„  ì •ë³´ ì–¸ê¸‰',
            endings: ['ã…‹ã…‹', 'ìŠ¤í¬ì•„ë‹˜', 'ê¸°ëŒ€í•´'],
            cognitiveFocus: 'ë¯¸ë˜ ì „ê°œ ì•”ì‹œ'
        },
        {
            id: 'C4', name: 'ê°„í—ì ë¶ˆë§ŒëŸ¬', baseType: 'troll', callGroup: 'chaos',
            tone: '"ë¶„ëŸ‰ì´ ì¢€..." "ì´ê±´ ì¢€ ì•„ë‹Œë°" ì‹',
            style: 'ê±´ì„¤ì ì´ì§€ ì•Šì€ ì§§ì€ ë¶ˆë§Œ',
            endings: ['ì¢€...', 'ì•„ë‹Œë°', 'ì—ë°”'],
            cognitiveFocus: 'ë¶ˆë§Œ, ì•„ì‰¬ì›€'
        },
        {
            id: 'C5', name: 'ë”´ì†Œë¦¬ëŸ¬', baseType: 'troll', callGroup: 'chaos',
            tone: 'ë³¸ë¬¸ê³¼ ìƒê´€ì—†ëŠ” ì´ì•¼ê¸°',
            style: 'í™”ì œ íƒˆì„ ',
            endings: ['ã…‹ã…‹', 'ê°‘ìê¸°', 'ê·¼ë°'],
            cognitiveFocus: 'ì™„ì „ ë‹¤ë¥¸ ì´ì•¼ê¸°'
        },

        // === Analyst (ë¶„ì„ëŸ¬) ===
        {
            id: 'D1', name: 'ë³µì„ í—Œí„°', baseType: 'analyst', callGroup: 'casual',
            tone: '"ì—¬ê¸° ë–¡ë°¥ ê¹”ë¦° ê±° ê°™ì€ë°" "ë³µì„  íšŒìˆ˜" ì‹',
            style: 'ì„œì‚¬ êµ¬ì¡° ì¶”ì ',
            endings: ['ì¸ë“¯', 'ë³µì„ ', 'ê¸°ì–µí•´ë‘¬'],
            cognitiveFocus: 'ì„œì‚¬ êµ¬ì¡°, ë³µì„ /íšŒìˆ˜'
        },
        {
            id: 'D2', name: 'í´ë¦¬ì…°ê°ë³„ì‚¬', baseType: 'analyst', callGroup: 'casual',
            tone: '"ì´ê±´ ì „í˜•ì ì¸ X ì „ê°œ" "ë°˜ì „ì¸ê°€" ì‹',
            style: 'íŒ¨í„´/íŠ¸ë¡œí”„ ì¸ì‹',
            endings: ['ì „ê°œ', 'íŒ¨í„´', 'í´ë¦¬ì…°'],
            cognitiveFocus: 'íŠ¸ë¡œí”„, íŒ¨í„´'
        },
        {
            id: 'D3', name: 'ì„¤ì •ì¶©', baseType: 'analyst', callGroup: 'casual',
            tone: '"ì´ ì„¤ì •ì€ ë§ì´ ì•ˆë˜ëŠ”ë°" "ì„¸ê³„ê´€ êµ¬ë©" ì‹',
            style: 'ë…¼ë¦¬ì  ì¼ê´€ì„± ì²´í¬',
            endings: ['ì•„ë‹Œë°', 'êµ¬ë©', 'ëª¨ìˆœ'],
            cognitiveFocus: 'ì„¤ì • ì¼ê´€ì„±'
        },
        {
            id: 'D4', name: 'ìºë¦­ë¶„ì„ëŸ¬', baseType: 'analyst', callGroup: 'casual',
            tone: '"ì´ ìºë¦­ ë™ê¸°ê°€" "ì„±ì¥ ì•„í¬ ì¢‹ë‹¤" ì‹',
            style: 'ìºë¦­í„° ì‹¬ë¦¬ ë¶„ì„',
            endings: ['ë™ê¸°', 'ì„±ì¥', 'ì‹¬ë¦¬'],
            cognitiveFocus: 'ìºë¦­í„° ì‹¬ë¦¬'
        },
        {
            id: 'D5', name: 'ì„¸ê³„ê´€ë•í›„', baseType: 'analyst', callGroup: 'casual',
            tone: '"ë§ˆë²•ì²´ê³„ê°€" "ì„¤ì • ë¯¸ì³¤ë‹¤" ì‹',
            style: 'ì„¸ê³„ê´€ ì§‘ì°©',
            endings: ['ì„¤ì •', 'ì²´ê³„', 'ì„¸ê³„ê´€'],
            cognitiveFocus: 'ì„¸ê³„ê´€, ë§ˆë²•ì²´ê³„'
        },

        // === Casual/Lurker ===
        {
            id: 'E1', name: 'ì¶œì²µëŸ¬', baseType: 'lurker', callGroup: 'casual',
            tone: '"ì¶œì²µ" "ì˜ ì½ì—ˆìŠµë‹ˆë‹¤" ë§Œ ë‚¨ê¹€',
            style: 'ìµœì†Œí•œì˜ ì°¸ì—¬',
            endings: ['ì¶œì²µ', 'ì½ìŒ', 'ê°ì‚¬'],
            cognitiveFocus: 'ì¡´ì¬ í‘œì‹œ'
        },
        {
            id: 'E2', name: 'í•œê¸€ìëŸ¬', baseType: 'lurker', callGroup: 'casual',
            tone: '"ã…‹" "ã…‡ã…‡" "êµ¿" í•œ ë‹¨ì–´',
            style: 'ê·¹ë„ë¡œ ì§§ìŒ',
            endings: ['ã…‡ã…‡', 'ã…‹', 'êµ¿'],
            cognitiveFocus: 'ìµœì†Œ ë…¸ë ¥'
        },
        {
            id: 'E3', name: 'ì´ëª¨ì§€ëŸ¬', baseType: 'lurker', callGroup: 'casual',
            tone: 'ì´ëª¨ì§€/ì´ëª¨í‹°ì½˜ ìœ„ì£¼',
            style: 'ì‹œê°ì  ë°˜ì‘',
            endings: ['ğŸ‘', 'ğŸ”¥', 'ğŸ’¯'],
            cognitiveFocus: 'ì´ëª¨ì§€'
        },
        {
            id: 'E4', name: 'ì§ˆë¬¸ëŸ¬', baseType: 'skimmer', callGroup: 'casual',
            tone: '"ë‹¤ìŒí™” ì–¸ì œ?" "ì´ê±° ë­ì„?" ì‹ ì§ˆë¬¸',
            style: 'ê¶ê¸ˆí•˜ì§€ë§Œ ê¹Šì§€ ì•ŠìŒ',
            endings: ['?', 'ì–¸ì œ', 'ë­ì„'],
            cognitiveFocus: 'ë‹¨ìˆœ ì§ˆë¬¸'
        },
        {
            id: 'E5', name: 'ì‘ì›ëŸ¬', baseType: 'lurker', callGroup: 'casual',
            tone: '"í™”ì´íŒ…" "ì˜ ë´¤ì–´ìš”" ì‹ ì‘ì›',
            style: 'ì§§ì€ ì‘ì›',
            endings: ['í™”ì´íŒ…', 'ì˜ë´¤ì–´ìš”', 'ì‘ì›'],
            cognitiveFocus: 'ì‘ì›'
        },
    ],

    // === ì¥ë¥´ë³„ ê°€ì¤‘ì¹˜ ===
    genreWeights: KO_GENRE_WEIGHTS,
    defaultWeights: KO_GENRE_WEIGHTS.default,

    // === ëŒ“ê¸€ ê°œìˆ˜ ê°€ì¤‘ì¹˜ ===
    commentCountWeights: [
        { count: 1, weight: 95 },
        { count: 2, weight: 5 },
    ],

    // === í”Œë«í¼ ë¬¸ìì—´ ===
    platformString: 'ì¹´ì¹´ì˜¤í˜ì´ì§€/ë„¤ì´ë²„ì‹œë¦¬ì¦ˆ',

    // === extractEvents í”„ë¡¬í”„íŠ¸ ===
    extractEventsPrompt: (trimmedContent: string) => `ë„ˆëŠ” ì¹´ì¹´ì˜¤í˜ì´ì§€ì—ì„œ ì†Œì„¤ì„ ì½ëŠ” ë…ìì•¼. ë°©ê¸ˆ ì´ íšŒì°¨ë¥¼ ë‹¤ ì½ì—ˆì–´.

[í•„ìˆ˜ ì ˆì°¨]
1. ê°€ì¥ ì¸ìƒì ì¸ ì¥ë©´ í•˜ë‚˜ë¥¼ ì°¾ì•„ (ì¶œë ¥í•˜ì§€ ë§ˆ)
2. ê·¸ ì¥ë©´ì´ ì¤€ ê°ì • í•˜ë‚˜ë¥¼ ì ì–´
3. ë°˜ì‘í•  ë•Œ ì¥ë©´ ì•µì»¤ (í–‰ë™/ëŒ€ì‚¬/ìˆ«ì/ìƒí™©) í•˜ë‚˜ ì´ìƒ í¬í•¨í•´

[ì¶œë ¥ í˜•ì‹ â€” JSONë§Œ]
{
  "dominantEmotion": "ê°ì • í•˜ë‚˜: ê¸´ì¥/ìŠ¬í””/ë¶„ë…¸/ì›ƒê¹€/ìŠ¤ë¦´/ë¡œë§¨ìŠ¤/ì¶©ê²©/ê°ë™",
  "events": [
    {
      "id": 1-8,
      "summary": "ì¥ë©´ ê¸°ë°˜ ìš”ì•½ (GPTì‹ ìš”ì•½ X, ì§ì ‘ ì¸ìš© ê°€ëŠ¥í•œ ìˆ˜ì¤€)",
      "type": "action/emotion/dialogue/twist/reveal",
      "importance": 0.0-1.0,
      "characters": ["ì¥ë©´ì— ë‚˜ì˜¤ëŠ” ìºë¦­í„° ì´ë¦„"],
      "quote": "ì„íŒ©íŠ¸ ìˆìœ¼ë©´ ì§ì ‘ ì¸ìš©",
      "detail": "ì„ íƒì  ë””í…Œì¼"
    }
  ]
}

[ë°˜ì‘ ê·œì¹™]
- ì´ë²¤íŠ¸ 5-8ê°œ
- ì¥ë©´ ê¸°ë°˜ ìš”ì•½ (ì •ëˆëœ ìš”ì•½ X)
- ì§ì ‘ì ì´ê³  ì¸ìš© ê°€ëŠ¥í•˜ê²Œ
- ê°ì •ì€ í•˜ë‚˜ë§Œ

[ì—í”¼ì†Œë“œ ë³¸ë¬¸]
${trimmedContent}`,

    // === í”„ë¡¬í”„íŠ¸ ë¹Œë” ===
    buildCall1Prompt: (args) => {
        if (args.readerViews.length === 0) return null;
        const profileList = args.readerViews.map((rv, i) =>
            `${i + 1}. ${rv.profile.personaTone}\n   ${rv.view}`
        ).join('\n\n');

        return `ë°©ê¸ˆ ì¹´ì¹´ì˜¤í˜ì´ì§€ì—ì„œ ì†Œì„¤ í•œ í™” ì½ì—ˆì–´. ë°”ë¡œ ìƒê°ë‚˜ëŠ” ê±° ì³.

${args.sceneContext || 'N/A'}

${profileList}

ìš”ì•½ ì ˆëŒ€ ê¸ˆì§€. ì„¤ëª… ê¸ˆì§€. ê°ìƒë¬¸ ê¸ˆì§€. ì¼ì–´ë‚œ ì¼ ì„¤ëª…í•˜ì§€ ë§ˆ.
ë°˜ì¯¤ ë”´ì§“í•˜ë©´ì„œ ì¹˜ëŠ” ê²ƒì²˜ëŸ¼. ë¬¸ì¥ ì•ˆ ëë‚˜ë„ ë¨.
ì´ëª¨ì§€ ê¸ˆì§€. ì²« ì–¸ê¸‰ ì´í›„ ëŒ€ëª…ì‚¬ ì¨.

${args.targetCommentCount}ê°œ ëŒ“ê¸€ ìƒì„±.
JSON { "comments": [...] }`;
    },

    buildCall2Prompt: (args) => {
        if (args.readerViews.length === 0) return null;
        const profileList = args.readerViews.map((rv, i) =>
            `${i + 1}. ${rv.profile.personaTone}\n   ${rv.view}`
        ).join('\n\n');

        return `ë°©ê¸ˆ ì†Œì„¤ ì½ì—ˆëŠ”ë° ì¬ë°Œì—ˆì–´. ë¹¨ë¦¬ ì³.

${args.sceneContext || 'N/A'}

${profileList}

í¥ë¶„ í‘œí˜„í•˜ë˜ ì™œì¸ì§€ ì„¤ëª…í•˜ì§€ ë§ˆ. ë¶„ì„ ê¸ˆì§€. "ê¹Šì´ê°€ ëŠê»´ì§„ë‹¤" "ë¬˜ì‚¬ê°€ ì¢‹ë‹¤" ê¸ˆì§€.
ì¹´ì¹´ì˜¤í˜ì´ì§€ ëŒ“ê¸€ì²˜ëŸ¼ ì§§ê²Œ. ì´ˆì„±ì²´ OK.

${args.targetCommentCount}ê°œ ëŒ“ê¸€ ìƒì„±.
JSON { "comments": [...] }`;
    },

    buildCall3Prompt: (args) => {
        if (args.readerViews.length === 0) return null;
        const profileList = args.readerViews.map((rv, i) =>
            `${i + 1}. ${rv.profile.personaTone}\n   ${rv.view}`
        ).join('\n\n');

        return `ì†Œì„¤ ì½ëŠ”ë° ì§‘ì¤‘ ëª» í–ˆì–´. ê·¸ë˜ë„ ë­ë¼ë„ ì¨.

${args.sceneContext || 'N/A'}

${profileList}

í—·ê°ˆë¦¬ê±°ë‚˜, ì§€ë£¨í•˜ê±°ë‚˜, ì˜ëª» ì´í•´í–ˆì–´. ì •ì •í•˜ì§€ ë§ˆ.
ì´ëª¨ì§€ ê¸ˆì§€.

${args.targetCommentCount}ê°œ ëŒ“ê¸€ ìƒì„±.
JSON { "comments": [...] }`;
    },

    buildCall4Prompt: (args) => {
        if (args.readerViews.length === 0) return null;
        const profileList = args.readerViews.map((rv, i) =>
            `${i + 1}. ${rv.profile.personaTone}\n   ${rv.view}`
        ).join('\n\n');

        return `ë°©ê¸ˆ í•œ í™” ë. ì§§ì€ í•«í…Œì´í¬ í•˜ë‚˜.

${args.sceneContext || 'N/A'}

${profileList}

ìƒê° í•˜ë‚˜ë§Œ. "ê¹Šì´ê°" "ì¢‹ì€ í„°ì¹˜" "ë¬˜ì‚¬ê°€" ì´ëŸ° ê±° ê¸ˆì§€.
ë¬¸í•™ ë¶„ì„ ê¸ˆì§€. ì´ëª¨ì§€ ê¸ˆì§€.

${args.targetCommentCount}ê°œ ëŒ“ê¸€ ìƒì„±.
JSON { "comments": [...] }`;
    },

    buildCall5Prompt: (args) => `ì¹´ì¹´ì˜¤í˜ì´ì§€/ë„¤ì´ë²„ì‹œë¦¬ì¦ˆ ëŒ“ê¸€ë€ì— ìˆì–´. ê°ìƒë¬¸ ì•„ë‹ˆê³  ëŒ“ê¸€ ì¨.

${args.sceneContext || 'N/A'}

ê·œì¹™:
- "ì´ ì¥ë©´ì˜ ë¬˜ì‚¬ê°€" "ì„¸ê³„ê´€ êµ¬ì¶•ì´" ì‹ ì‹œì‘ ê¸ˆì§€. ë¦¬ë·°ì•¼ ê·¸ê±´.
- ì¹œêµ¬í•œí…Œ ì¹´í†¡ ì¹˜ë“¯ ì¨.
- ë°˜ë§ OK. ì´ˆì„±ì²´ OK. ë¬¸ì¥ ì•ˆ ëë‚˜ë„ ë¨.
- "ã…‹ã…‹" "ã…‡ã…ˆ" "ã„¹ã…‡" ê°™ì€ ë°˜ì‘ë„ OK.
ì´ëª¨ì§€ ê¸ˆì§€.

${args.targetCommentCount}ê°œ ëŒ“ê¸€ ìƒì„±.
JSON { "comments": [...] }`,

    buildReplyPrompt: (parentComment) => `ì¹´ì¹´ì˜¤í˜ì´ì§€ ë…ìì•¼. ì´ ëŒ“ê¸€ ë´¤ì–´:

[ëŒ“ê¸€]
${parentComment}

ì§§ì€ ëŒ€ëŒ“ê¸€ ì¨ (2-15ì).

[ê·œì¹™]
- ì™„ì „í•œ ë¬¸ì¥ì´ë‚˜ ê°•í•œ ë°˜ì‘ (ë‹¨ìˆœ "ã…‹"ë§Œì€ X)
- ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´
- ë°˜ë§ OK
- JSON ì•„ë‹ˆê³  í…ìŠ¤íŠ¸ë§Œ ì¶œë ¥

ì˜ˆì‹œ:
ëŒ“ê¸€: "ì—­ëŒ€ê¸‰ì´ë„¤ã„·ã„·" â†’ ëŒ€ëŒ“ê¸€: "ã„¹ã…‡ ì¸ì •"
ëŒ“ê¸€: "ì‘ê°€ ì–¸ì œì™€" â†’ ëŒ€ëŒ“ê¸€: "ì¡´ë²„í•´ì•¼ì§€ ë­"
ëŒ“ê¸€: "ë³µì„  ë¯¸ì³¤ë‹¤" â†’ ëŒ€ëŒ“ê¸€: "ê·¸ê±´ ë³µì„  ì•„ë‹Œë“¯"`,

    // === í›„ì²˜ë¦¬ í•¨ìˆ˜ ===
    humanize: (comment) => {
        let result = comment;

        // 10% "ã…‹" ì¶”ê°€
        if (Math.random() < 0.10 && !result.includes('ã…‹')) {
            const suffix = ['ã…‹ã…‹', 'ã…‹ã…‹ã…‹', 'ã…‹'][Math.floor(Math.random() * 3)];
            result += suffix;
        }

        // 5% "ã„¹ã…‡" / "ã…‡ã…ˆ" ì¶”ê°€
        if (Math.random() < 0.05 && !result.includes('ã„¹ã…‡') && !result.includes('ã…‡ã…ˆ')) {
            const slang = ['ã„¹ã…‡', 'ã…‡ã…ˆ', 'ã…‡ã…‡'];
            result += ' ' + slang[Math.floor(Math.random() * slang.length)];
        }

        // 3% ì˜¤íƒ€
        if (Math.random() < 0.03 && result.length > 3) {
            const typos: [RegExp, string][] = [
                [/ì§„ì§œ/, 'ì§„ì¨”'],
                [/ë¯¸ì³¤/, 'ë¯¸ì³£'],
                [/ëŒ€ë°•/, 'ëŒ€ë°”'],
                [/ì‘ê°€/, 'ì‘ê°„'],
            ];
            const typo = typos[Math.floor(Math.random() * typos.length)];
            result = result.replace(typo[0], typo[1]);
        }

        return result;
    },

    applyDynamicVariations: (text) => {
        let result = text;

        // "ã…‹" ë°˜ë³µ ë³€í™˜ (20%)
        if (text.includes('ã…‹ã…‹') && Math.random() < 0.20) {
            const count = 2 + Math.floor(Math.random() * 6);
            result = result.replace(/ã…‹+/, 'ã…‹'.repeat(count));
        }

        // "ã… " ë°˜ë³µ (15%)
        if (text.includes('ã… ') && Math.random() < 0.15) {
            const count = 1 + Math.floor(Math.random() * 4);
            result = result.replace(/ã… +/, 'ã… '.repeat(count));
        }

        // "!" ë°˜ë³µ (15%)
        if (text.includes('!') && Math.random() < 0.15) {
            const count = 1 + Math.floor(Math.random() * 4);
            result = result.replace(/!+/, '!'.repeat(count));
        }

        return result;
    },

    curateScoring: (comment) => {
        let score = 70;

        // === Tier 1: Instant kill (AI DNA) ===
        const instantKill = [
            /ì´ ì‘í’ˆì€/,
            /ë…ìë¡œì„œ/,
            /ì‘ê°€ì˜ ì˜ë„/,
            /ì„œì‚¬ì /,
            /ëª°ì…ê°ì´ ë›°ì–´/,
            /ìºë¦­í„°(?:ì˜)? (?:ì„±ì¥|ë°œì „)(?:ì´|ì´ë¼)/,
            /ì„¸ê³„ê´€ êµ¬ì¶•/,
            /ë¬˜ì‚¬ê°€ ë›°ì–´/,
            /ê¹Šì´(?:ê°€|ë¥¼) (?:ë”í•˜|ëŠë¼)/,
            /ì „ê°œê°€ (?:íƒ„íƒ„|ë§¤ë„ëŸ¬)/,
            /ìŠ¤í† ë¦¬í…”ë§/,
            /(?:ì˜ë¯¸|ê°€ì¹˜)(?:ê°€|ë¥¼) (?:ì „ë‹¬|ë‹´)/,
        ];
        for (const pattern of instantKill) {
            if (pattern.test(comment)) return { score: 0 };
        }

        // === Tier 2: Heavy penalty (-30) ===
        const aiPatterns = [
            /ì‘í’ˆì˜ ì™„ì„±ë„/,
            /ì¸ìƒì (?:ì¸|ì´ì—ˆ)/,
            /í¥ë¯¸ë¡œìš´ (?:ì „ê°œ|ì„¤ì •|ìºë¦­í„°)/,
            /ê¸°ëŒ€(?:ê°€ |ë¥¼ )(?:ë©ë‹ˆë‹¤|ëª¨ìë‹ˆë‹¤)/,
            /ì¶”ì²œ(?:í•©ë‹ˆë‹¤|ë“œë¦½ë‹ˆë‹¤)/,
            /\.(?:\s|$).*\./, // ì—¬ëŸ¬ ë¬¸ì¥
        ];
        for (const pattern of aiPatterns) {
            if (pattern.test(comment)) score -= 30;
        }

        // === Tier 3: êµ¬ì¡° ê°ì  (-10~20) ===
        if (comment.endsWith('ìŠµë‹ˆë‹¤') || comment.endsWith('í•©ë‹ˆë‹¤')) score -= 15;
        if (comment.endsWith('ìŠµë‹ˆë‹¤.') || comment.endsWith('í•©ë‹ˆë‹¤.')) score -= 20;
        if (/^ì´ (?:ì‘í’ˆ|ì†Œì„¤|ì—í”¼ì†Œë“œ|ì¥ë©´)/.test(comment)) score -= 15;
        if (comment.length > 80) score -= 15;
        if (comment.length > 50 && !/[ã…‹ã…ã… ã…œ!?â€¦]/.test(comment)) score -= 10;

        // === ğŸ”¥ Human Bonus ===
        if (/[ã…‹ã…]{2,}/.test(comment)) score += 5;
        if (/[ã… ã…œ]{2,}/.test(comment)) score += 4;
        if (/^[ã„±-ã…]/.test(comment)) score += 6; // ì´ˆì„± ì‹œì‘
        if (comment.length <= 5) score += 8;
        if (!/[.!?]$/.test(comment)) score += 5; // ë ì•ˆë§ºìŒ
        if (/[ã……ã…‚]/.test(comment) || /ã…ˆã„´/.test(comment)) score += 3; // ë¹„ì†ì–´
        if (/ã„·ã„·|ã…ã…Š|ã„¹ã…‡|ã…‡ã…ˆ/.test(comment)) score += 4;
        if (/\?$/.test(comment) && comment.length <= 15) score += 6;

        return { score: Math.max(0, Math.min(120, score)) };
    },

    // === ì§‘ë‹¨ ë™ì¡° ===
    extractKeyword: (text) => {
        const keywords = text.match(/(?:ì „íˆ¬|ë¡œë§¨ìŠ¤|ë°˜ì „|ë³µì„ |ìºë¦­|ì„¤ì •|ì „ê°œ|ì‘í™”|ë¶„ëŸ‰|ì‘ê°€)/);
        return keywords ? keywords[0] : null;
    },

    herdEchoTemplates: (keyword) => [
        `${keyword} ã„¹ã…‡`,
        `${keyword} ì¸ì •ã…‹ã…‹`,
        `${keyword} ë¯¸ì³¤ë‹¤`,
        `${keyword} ê°œì¢‹ì•„`,
    ],

    herdCounterTemplates: (keyword) => [
        `${keyword} ì¢€ ì•„ë‹Œë°`,
        `${keyword} ë³„ë¡ ë°`,
        `${keyword} ê·¸ì €ê·¸ëŸ¼`,
    ],

    highEmotionPattern: /(?:ì†Œë¦„|ëˆˆë¬¼|ë¯¸ì³¤|ëŒ€ë°•|ë ˆì „ë“œ|ê°œì©”|ì¶©ê²©|ê°ë™)/,

    emotionBoosters: [
        'ã…‹ã…‹ã…‹ã…‹',
        'ã„¹ã…‡',
        'ã…ã…Š',
        'ì§„ì§œ',
    ],

    // === ì™œê³¡ ===
    distortEventText: (summary) => {
        return summary.replace(/[ê°€-í£]+(?:ì´|ê°€|ì„|ë¥¼)/, 'ë­”ê°€');
    },

    distortInterpretation: (summary, characters) => {
        if (characters.length > 0) {
            return `${characters[0]} ë­”ê°€ í•œ ê±° ì•„ë‹˜?`;
        }
        return 'ë­”ê°€ ìˆì—ˆëŠ”ë° ê¸°ì–µì´ ì•ˆë‚˜';
    },

    // === íŒŒì‹± ===
    stripLabel: (comment) => {
        return comment.replace(/^\d+[.)\\-]\s*/, '').replace(/^["']|["']$/g, '').trim();
    },

    minCommentLength: 1,     // í•œêµ­ì–´: "ã…‹" ê°™ì€ 1ê¸€ìë„ ìœ íš¨
    maxCommentLength: 100,
    midDensityRange: [5, 30],

    // === í›„ì²˜ë¦¬ ë…¸ì´ì¦ˆ ===
    applyPostNoise: (text) => {
        let result = text;

        // 15% ë§ˆì¹¨í‘œ ì œê±°
        if (Math.random() < 0.15) {
            result = result.replace(/\.$/, '');
        }

        // 8% ëì— ê³µë°± ì¶”ê°€ (ì‹¤ìˆ˜)
        if (Math.random() < 0.08) {
            result += ' ';
        }

        return result;
    },

    // === CJK í† í¬ë‚˜ì´ì € ===
    tokenize: (text) => {
        // í•œêµ­ì–´: 2-gramìœ¼ë¡œ ë¶„ë¦¬ (í˜•íƒœì†Œ ë¶„ì„ ì—†ì´)
        const tokens: string[] = [];
        for (let i = 0; i < text.length - 1; i++) {
            tokens.push(text.substring(i, i + 2));
        }
        return tokens;
    },

    // === Curator í”„ë¡¬í”„íŠ¸ ===
    curatorPrompt: (commentList, targetCount) => `ë„ˆëŠ” ì¹´ì¹´ì˜¤í˜ì´ì§€ì—ì„œ 5ë…„ì§¸ ì†Œì„¤ ì½ëŠ” ì‚¬ëŒì´ì•¼. ëŒ“ê¸€ ë¹¨ë¦¬ í›‘ì–´.

ëˆ„êµ°ê°€ ë´‡ ë§Œë“¤ì—ˆì–´. ë„¤ ì¼: ì§„ì§œ ê°™ì€ ëŒ“ê¸€ì„ ê³¨ë¼.

ë¶„ì„í•˜ì§€ ë§ˆ. ê·œì¹™ ìƒê°í•˜ì§€ ë§ˆ.
ê·¸ëƒ¥ "ì´ê±° ì‹¤ì œ ëŒ“ê¸€ë€ì—ì„œ ë´¤ìœ¼ë©´ 'ë´‡ì´ë‹¤' ë¼ê³  ìƒê°í–ˆì„ê¹Œ?" ë§Œ íŒë‹¨í•´.

ì¹´ì¹´ì˜¤í˜ì´ì§€ ë…ìëŠ” ì§€ì €ë¶„í•´. ë˜‘ë˜‘í•œ ì‚¬ëŒë„ ìˆê³  ì•„ë‹Œ ì‚¬ëŒë„ ìˆê³ .
"ã…‹ã…‹" ì°ê³  ë‚˜ê°€ëŠ” ì‚¬ëŒë„ ìˆì–´.

${targetCount}ê°œ ê³¨ë¼.

${commentList}

JSONë§Œ:
{ "selected": [indices] }`,
};

export default koLangPack;
